<html>
<head>
<meta charset="utf-8">

<script src="classes.js"></script>
<script src="math_classes.js"></script>
<script language="javascript">

  var camera;
  var cube;
  var graphics;
  var plane;

  function load(){

    var can = document.getElementById("cnv");
    can.width = 0.96*window.innerWidth;
    can.height = 0.96*window.innerHeight;

    graphics = new GraphicsControl(can);
    camera = new Camera();
    var distance = can.width / (2 * Math.tan(camera.field_of_view / 2));
    plane = new ProjectionPlane(window.innerWidth, window.innerHeight, distance);

    cube = new Cube(100,0,0,60, Math.PI / 1);
  //  for( obj of cube.getVerticesCoordinates() ){  console.log(obj);  }
/*
    for(  obj of cube.getRelativeVerticesCoordinates() ){
      after_rot = cube.rotateY(obj[0], obj[2]);
      final = cube.translate(after_rot[0], after_rot[1], [cube.x, cube.z]);
      console.log(final[0]);
      console.log(obj[1] + cube.y);
      console.log(final[1]);

    }*/

    plane.projectCube(cube, camera, graphics);
    //graphics.drawSquare(cube.x,cube.y,cube.side_len);
    var u = new Vector(10,15,20);
    var v = new Vector(5,15,-10);
    //u.add(5);
    //console.log(u);
  }

  function redraw(){

    graphics.clear();
    plane.projectCube(cube, camera, graphics);
    console.log(camera.phi);

  }

</script>

</head>
<body onload="load();">
<input type="button" value="<-" onclick="camera.rotate(-0.03*Math.PI); redraw();">
<input type="button" value="->" onclick="camera.rotate(0.03*Math.PI); redraw();">
<canvas id="cnv" style="border: solid 1px;">

</body>
</html>
